# Design Specification: AIntern v0.6.1a "Tool Core Models"

## Overview

**Version**: v0.6.1a
**Parent**: v0.6.1 Tool Framework
**Focus**: Core tool interfaces, enumerations, and metadata

### Purpose

This sub-version defines the foundational abstractions for the tool system:
1. Create `ITool` interface defining the tool contract
2. Create `ToolCategory` enum for tool grouping
3. Create `RiskLevel` enum for permission management
4. Create `ToolCategoryMetadata` for UI display
5. Create `RiskLevelMetadata` for policy and display
6. Establish naming conventions and patterns

### Dependencies

**None** - This is a foundational sub-version with no dependencies on other v0.6.x parts.

**Future consumers**:
- v0.6.1b: Tool Execution Context
- v0.6.1c: Tool Result System
- v0.6.1f: Tool Base Class
- v0.6.3: Built-in Tools

---

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    v0.6.1a Tool Core Models Architecture                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  src/AIntern.Core/Tools/                                                     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  Interfaces                                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚â”‚ â”‚
â”‚  â”‚  â”‚  ITool                                                               â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Id: string             (unique identifier, kebab-case)         â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Name: string           (display name)                          â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Description: string    (LLM-facing description)                â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Category: ToolCategory                                         â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ DefaultRiskLevel: RiskLevel                                    â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ InputSchema: JsonSchema                                        â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ IsAvailable: bool                                              â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Tags: IReadOnlyList<string>                                    â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                                                                   â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ ExecuteAsync(context, ct) â†’ ToolResult                         â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Validate(parameters) â†’ ToolValidationResult                    â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ GetExecutionSummary(parameters) â†’ string                       â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€ GetEffectiveRiskLevel(parameters) â†’ RiskLevel                  â”‚â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  Enumerations                                                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚â”‚ â”‚
â”‚  â”‚  â”‚  ToolCategory                     RiskLevel                          â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ FileSystem                   â”œâ”€â”€ Safe (0)                       â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Terminal                     â”œâ”€â”€ Low (1)                        â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Search                       â”œâ”€â”€ Medium (2)                     â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Workspace                    â”œâ”€â”€ High (3)                       â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Editor                       â””â”€â”€ Critical (4)                   â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Git                                                             â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Network                                                         â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ System                                                          â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€ Custom                                                          â”‚â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚  Metadata                                                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚â”‚ â”‚
â”‚  â”‚  â”‚  ToolCategoryMetadata             RiskLevelMetadata                  â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ GetInfo(category)            â”œâ”€â”€ GetInfo(level)                 â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”‚   â†’ DisplayName                â”‚   â†’ DisplayName                  â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”‚   â†’ IconName                   â”‚   â†’ Color                        â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”‚   â†’ Description                â”‚   â†’ Description                  â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                                â”‚   â†’ RequiresApproval             â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                                â”‚   â†’ ShowInLog                    â”‚â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                                                                   â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Risk Level Classification

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Risk Level Classification                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Risk Level    â”‚ Color    â”‚ Approval â”‚ Operations                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Safe (0)      â”‚ ğŸŸ¢ Green â”‚ Auto     â”‚ Read files, search, list directories  â”‚
â”‚  Low (1)       â”‚ ğŸ”µ Blue  â”‚ Auto     â”‚ Create files, minor edits, git add    â”‚
â”‚  Medium (2)    â”‚ ğŸŸ¡ Amber â”‚ Required â”‚ Bulk edits, package install, commits  â”‚
â”‚  High (3)      â”‚ ğŸ”´ Red   â”‚ Required â”‚ Delete files, force push, drop tables â”‚
â”‚  Critical (4)  â”‚ âš« Dark  â”‚ Always   â”‚ System commands, credentials, configs â”‚
â”‚                                                                              â”‚
â”‚  Approval Flow:                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Safe/Low  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚ Tool Call  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  Execute   â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚        â”‚                                                                     â”‚
â”‚        â”‚ Medium/High/Critical                                                â”‚
â”‚        â–¼                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Approve   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚  Approval  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  Execute   â”‚                                   â”‚
â”‚  â”‚   Dialog   â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                              â”‚
â”‚        â”‚ Deny                                                                â”‚
â”‚        â–¼                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                              â”‚
â”‚  â”‚   Skip     â”‚                                                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                              â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Specifications

### 1. ITool.cs

**Location**: `src/AIntern.Core/Tools/ITool.cs`

```csharp
namespace AIntern.Core.Tools;

using System.Text.Json;

/// <summary>
/// Base interface for all tools that can be invoked by the AI agent.
/// Tools represent discrete actions the AI can request to perform.
/// </summary>
/// <remarks>
/// <para>
/// Tools are the primary mechanism through which the AI agent interacts with
/// the user's system. Each tool performs a specific operation such as reading
/// a file, executing a terminal command, or searching the codebase.
/// </para>
/// <para>
/// Implementers should inherit from <see cref="ToolBase"/> rather than
/// implementing this interface directly to benefit from common functionality.
/// </para>
/// </remarks>
public interface ITool
{
    /// <summary>
    /// Unique identifier for this tool.
    /// </summary>
    /// <remarks>
    /// Used for registration, lookup, and LLM function calling.
    /// Should be lowercase with hyphens (kebab-case).
    /// Examples: "file-read", "terminal-execute", "search-grep".
    /// </remarks>
    string Id { get; }

    /// <summary>
    /// Human-readable display name for the tool.
    /// </summary>
    /// <remarks>
    /// Shown in UI, logs, and approval dialogs.
    /// Examples: "Read File", "Execute Command", "Search Content".
    /// </remarks>
    string Name { get; }

    /// <summary>
    /// Detailed description for the LLM to understand when to use this tool.
    /// </summary>
    /// <remarks>
    /// Should clearly explain:
    /// - The tool's purpose and primary use case
    /// - When to use this tool vs alternatives
    /// - Any important constraints or limitations
    /// - Expected parameter values and formats
    /// </remarks>
    string Description { get; }

    /// <summary>
    /// Category for UI grouping and filtering.
    /// </summary>
    ToolCategory Category { get; }

    /// <summary>
    /// Default risk level for permission management.
    /// </summary>
    /// <remarks>
    /// This is the base risk level for the tool. The effective risk level
    /// may be elevated for specific invocations based on parameter values.
    /// See <see cref="GetEffectiveRiskLevel"/> for runtime calculation.
    /// </remarks>
    RiskLevel DefaultRiskLevel { get; }

    /// <summary>
    /// JSON Schema defining the expected input parameters.
    /// </summary>
    /// <remarks>
    /// Used for:
    /// - Validation before execution
    /// - LLM function calling format (OpenAI tool format)
    /// - UI generation for parameter editing
    /// </remarks>
    JsonSchema InputSchema { get; }

    /// <summary>
    /// Whether this tool is currently available for use.
    /// </summary>
    /// <remarks>
    /// May return false when:
    /// - Required dependencies are not available
    /// - No workspace is open (for workspace-dependent tools)
    /// - The terminal is not active (for terminal tools)
    /// - Platform requirements are not met
    /// </remarks>
    bool IsAvailable { get; }

    /// <summary>
    /// Optional list of tags for additional categorization and search.
    /// </summary>
    /// <remarks>
    /// Tags provide finer-grained categorization beyond the main category.
    /// Examples: ["read-only", "workspace", "async", "dangerous"].
    /// </remarks>
    IReadOnlyList<string> Tags { get; }

    /// <summary>
    /// Execute the tool with the given context.
    /// </summary>
    /// <param name="context">
    /// Execution context containing parameters, services, and metadata.
    /// </param>
    /// <param name="ct">
    /// Cancellation token that should be checked during long operations.
    /// </param>
    /// <returns>
    /// Result of the tool execution, containing success/failure status,
    /// output data, artifacts produced, and any error information.
    /// </returns>
    Task<ToolResult> ExecuteAsync(
        ToolExecutionContext context,
        CancellationToken ct = default);

    /// <summary>
    /// Validate parameters before execution.
    /// </summary>
    /// <remarks>
    /// Called before requesting user approval to catch obvious errors early.
    /// This allows the system to provide immediate feedback to the LLM
    /// without requiring user interaction for invalid tool calls.
    /// </remarks>
    /// <param name="parameters">Parameters to validate.</param>
    /// <returns>Validation result containing any errors found.</returns>
    ToolValidationResult Validate(JsonElement parameters);

    /// <summary>
    /// Get a human-readable description of what this specific invocation will do.
    /// </summary>
    /// <remarks>
    /// Used in approval dialogs to explain the proposed action to the user.
    /// Should be specific to the parameters, not just a generic description.
    /// </remarks>
    /// <param name="parameters">The parameters for this invocation.</param>
    /// <returns>
    /// A summary like "Read file 'src/Program.cs'" or
    /// "Execute 'npm install express'".
    /// </returns>
    string GetExecutionSummary(JsonElement parameters);

    /// <summary>
    /// Calculate the effective risk level for a specific invocation.
    /// </summary>
    /// <remarks>
    /// <para>
    /// The effective risk level may be higher than <see cref="DefaultRiskLevel"/>
    /// based on parameter values. For example:
    /// </para>
    /// <list type="bullet">
    /// <item>File delete is High, but deleting outside workspace is Critical</item>
    /// <item>Terminal execute is Medium, but 'rm -rf' is High</item>
    /// <item>Network request is Low, but external domains are Medium</item>
    /// </list>
    /// </remarks>
    /// <param name="parameters">The parameters for this invocation.</param>
    /// <returns>
    /// The effective risk level, which may be elevated from the default.
    /// </returns>
    RiskLevel GetEffectiveRiskLevel(JsonElement parameters);
}
```

### 2. ToolCategory.cs

**Location**: `src/AIntern.Core/Tools/ToolCategory.cs`

```csharp
namespace AIntern.Core.Tools;

/// <summary>
/// Categories for grouping tools in the UI and filtering by domain.
/// </summary>
/// <remarks>
/// Categories provide a high-level organization of tools by their
/// primary function. Each tool belongs to exactly one category,
/// but may have additional tags for finer-grained classification.
/// </remarks>
public enum ToolCategory
{
    /// <summary>
    /// File system operations: read, write, delete, move, copy.
    /// </summary>
    /// <remarks>
    /// Tools in this category operate on files and directories.
    /// Examples: file-read, file-write, file-delete, directory-list.
    /// </remarks>
    FileSystem = 0,

    /// <summary>
    /// Terminal/shell operations: execute commands, scripts.
    /// </summary>
    /// <remarks>
    /// Tools that run shell commands or interact with the PTY.
    /// Examples: terminal-execute, terminal-send-input.
    /// </remarks>
    Terminal = 1,

    /// <summary>
    /// Code and content search: grep, find, regex search.
    /// </summary>
    /// <remarks>
    /// Tools for finding files and content within the workspace.
    /// Examples: search-grep, search-files, search-symbols.
    /// </remarks>
    Search = 2,

    /// <summary>
    /// Workspace operations: project structure, dependencies.
    /// </summary>
    /// <remarks>
    /// Tools that operate on the workspace as a whole.
    /// Examples: workspace-info, project-dependencies.
    /// </remarks>
    Workspace = 3,

    /// <summary>
    /// Editor operations: navigate, refactor, format.
    /// </summary>
    /// <remarks>
    /// Tools that interact with the code editor.
    /// Examples: editor-goto, editor-format, editor-refactor.
    /// </remarks>
    Editor = 4,

    /// <summary>
    /// Git operations: status, commit, push, branch.
    /// </summary>
    /// <remarks>
    /// Version control operations using Git.
    /// Examples: git-status, git-commit, git-push, git-diff.
    /// </remarks>
    Git = 5,

    /// <summary>
    /// Network operations: HTTP requests, API calls.
    /// </summary>
    /// <remarks>
    /// Tools that make network requests.
    /// Examples: http-request, api-call, url-fetch.
    /// </remarks>
    Network = 6,

    /// <summary>
    /// System operations: environment, processes.
    /// </summary>
    /// <remarks>
    /// Low-level system operations.
    /// Examples: env-get, process-list, system-info.
    /// </remarks>
    System = 7,

    /// <summary>
    /// User-defined or plugin tools.
    /// </summary>
    /// <remarks>
    /// Custom tools added by users or plugins.
    /// These tools use Tags for further categorization.
    /// </remarks>
    Custom = 8
}
```

### 3. RiskLevel.cs

**Location**: `src/AIntern.Core/Tools/RiskLevel.cs`

```csharp
namespace AIntern.Core.Tools;

/// <summary>
/// Risk classification for tool operations.
/// Determines approval requirements and UI treatment.
/// </summary>
/// <remarks>
/// <para>
/// Risk levels control the user approval workflow:
/// </para>
/// <list type="bullet">
/// <item><see cref="Safe"/> and <see cref="Low"/> are auto-approved by default</item>
/// <item><see cref="Medium"/>, <see cref="High"/>, and <see cref="Critical"/> require explicit approval</item>
/// </list>
/// <para>
/// Tools should use the lowest appropriate risk level for their default
/// behavior, but may elevate the risk level for specific parameter values
/// via <see cref="ITool.GetEffectiveRiskLevel"/>.
/// </para>
/// </remarks>
public enum RiskLevel
{
    /// <summary>
    /// Read-only operations with no side effects.
    /// </summary>
    /// <remarks>
    /// Auto-approved by default. Not logged to audit trail.
    /// Examples: reading files, searching content, listing directories.
    /// </remarks>
    Safe = 0,

    /// <summary>
    /// May modify files but changes are easily reversible.
    /// </summary>
    /// <remarks>
    /// Auto-approved by default, but logged to audit trail.
    /// Examples: creating files, minor edits, git add.
    /// </remarks>
    Low = 1,

    /// <summary>
    /// Significant changes that require attention.
    /// </summary>
    /// <remarks>
    /// Requires user approval by default.
    /// Examples: bulk file modifications, package installs, git commits.
    /// </remarks>
    Medium = 2,

    /// <summary>
    /// Potentially destructive or difficult to reverse.
    /// </summary>
    /// <remarks>
    /// Always requires explicit approval. Highlighted in UI.
    /// Examples: deleting files, force push, dropping databases.
    /// </remarks>
    High = 3,

    /// <summary>
    /// System-level operations with broad impact.
    /// </summary>
    /// <remarks>
    /// Always requires explicit approval with additional warning.
    /// Examples: system commands, credential access, network configs.
    /// </remarks>
    Critical = 4
}
```

### 4. ToolCategoryMetadata.cs

**Location**: `src/AIntern.Core/Tools/ToolCategoryMetadata.cs`

```csharp
namespace AIntern.Core.Tools;

/// <summary>
/// Metadata for tool categories used in UI display.
/// Provides display names, icons, and descriptions for each category.
/// </summary>
public static class ToolCategoryMetadata
{
    private static readonly Dictionary<ToolCategory, CategoryInfo> _metadata = new()
    {
        [ToolCategory.FileSystem] = new(
            DisplayName: "File System",
            IconName: "file",
            Description: "Operations on files and directories"),

        [ToolCategory.Terminal] = new(
            DisplayName: "Terminal",
            IconName: "terminal",
            Description: "Shell commands and scripts"),

        [ToolCategory.Search] = new(
            DisplayName: "Search",
            IconName: "search",
            Description: "Find files and content"),

        [ToolCategory.Workspace] = new(
            DisplayName: "Workspace",
            IconName: "folder-open",
            Description: "Project and workspace operations"),

        [ToolCategory.Editor] = new(
            DisplayName: "Editor",
            IconName: "edit",
            Description: "Code editing and navigation"),

        [ToolCategory.Git] = new(
            DisplayName: "Git",
            IconName: "git-branch",
            Description: "Version control operations"),

        [ToolCategory.Network] = new(
            DisplayName: "Network",
            IconName: "globe",
            Description: "HTTP and network operations"),

        [ToolCategory.System] = new(
            DisplayName: "System",
            IconName: "settings",
            Description: "System-level operations"),

        [ToolCategory.Custom] = new(
            DisplayName: "Custom",
            IconName: "puzzle",
            Description: "User-defined tools")
    };

    /// <summary>
    /// Get display information for a category.
    /// </summary>
    /// <param name="category">The category to get info for.</param>
    /// <returns>Category display information.</returns>
    public static CategoryInfo GetInfo(ToolCategory category) =>
        _metadata.GetValueOrDefault(category, new("Unknown", "question", "Unknown category"));

    /// <summary>
    /// Get all categories with their metadata.
    /// </summary>
    /// <returns>Enumerable of category and info pairs.</returns>
    public static IEnumerable<(ToolCategory Category, CategoryInfo Info)> GetAll() =>
        _metadata.Select(kvp => (kvp.Key, kvp.Value));

    /// <summary>
    /// Display information for a tool category.
    /// </summary>
    /// <param name="DisplayName">Human-readable name.</param>
    /// <param name="IconName">Icon identifier for UI.</param>
    /// <param name="Description">Short description of the category.</param>
    public sealed record CategoryInfo(
        string DisplayName,
        string IconName,
        string Description);
}
```

### 5. RiskLevelMetadata.cs

**Location**: `src/AIntern.Core/Tools/RiskLevelMetadata.cs`

```csharp
namespace AIntern.Core.Tools;

/// <summary>
/// Metadata for risk levels used in UI display and policy decisions.
/// Provides display names, colors, descriptions, and approval requirements.
/// </summary>
public static class RiskLevelMetadata
{
    private static readonly Dictionary<RiskLevel, RiskInfo> _metadata = new()
    {
        [RiskLevel.Safe] = new(
            DisplayName: "Safe",
            Color: "#22C55E",         // Green-500
            BackgroundColor: "#DCFCE7", // Green-100
            IconName: "check-circle",
            Description: "Read-only operation with no side effects",
            RequiresApproval: false,
            ShowInLog: false,
            ShowBadge: false),

        [RiskLevel.Low] = new(
            DisplayName: "Low Risk",
            Color: "#3B82F6",         // Blue-500
            BackgroundColor: "#DBEAFE", // Blue-100
            IconName: "info-circle",
            Description: "Reversible changes to files",
            RequiresApproval: false,
            ShowInLog: true,
            ShowBadge: false),

        [RiskLevel.Medium] = new(
            DisplayName: "Medium Risk",
            Color: "#F59E0B",         // Amber-500
            BackgroundColor: "#FEF3C7", // Amber-100
            IconName: "exclamation-circle",
            Description: "Significant changes requiring attention",
            RequiresApproval: true,
            ShowInLog: true,
            ShowBadge: true),

        [RiskLevel.High] = new(
            DisplayName: "High Risk",
            Color: "#EF4444",         // Red-500
            BackgroundColor: "#FEE2E2", // Red-100
            IconName: "exclamation-triangle",
            Description: "Potentially destructive operation",
            RequiresApproval: true,
            ShowInLog: true,
            ShowBadge: true),

        [RiskLevel.Critical] = new(
            DisplayName: "Critical",
            Color: "#DC2626",         // Red-600
            BackgroundColor: "#FCA5A5", // Red-300
            IconName: "shield-exclamation",
            Description: "System-level operation with broad impact",
            RequiresApproval: true,
            ShowInLog: true,
            ShowBadge: true)
    };

    /// <summary>
    /// Get display and policy information for a risk level.
    /// </summary>
    /// <param name="level">The risk level to get info for.</param>
    /// <returns>Risk level information.</returns>
    public static RiskInfo GetInfo(RiskLevel level) =>
        _metadata.GetValueOrDefault(level, _metadata[RiskLevel.Medium]);

    /// <summary>
    /// Get all risk levels with their metadata.
    /// </summary>
    /// <returns>Enumerable of risk level and info pairs.</returns>
    public static IEnumerable<(RiskLevel Level, RiskInfo Info)> GetAll() =>
        _metadata.Select(kvp => (kvp.Key, kvp.Value));

    /// <summary>
    /// Check if a risk level requires user approval.
    /// </summary>
    /// <param name="level">The risk level to check.</param>
    /// <returns>True if approval is required.</returns>
    public static bool RequiresApproval(RiskLevel level) =>
        GetInfo(level).RequiresApproval;

    /// <summary>
    /// Check if an operation at this risk level should be logged.
    /// </summary>
    /// <param name="level">The risk level to check.</param>
    /// <returns>True if the operation should be logged.</returns>
    public static bool ShouldLog(RiskLevel level) =>
        GetInfo(level).ShowInLog;

    /// <summary>
    /// Display and policy information for a risk level.
    /// </summary>
    /// <param name="DisplayName">Human-readable name.</param>
    /// <param name="Color">Primary color (hex) for UI.</param>
    /// <param name="BackgroundColor">Background color (hex) for badges.</param>
    /// <param name="IconName">Icon identifier for UI.</param>
    /// <param name="Description">Short description of the risk level.</param>
    /// <param name="RequiresApproval">Whether operations at this level need approval.</param>
    /// <param name="ShowInLog">Whether operations should be logged to audit trail.</param>
    /// <param name="ShowBadge">Whether to show a risk badge in UI.</param>
    public sealed record RiskInfo(
        string DisplayName,
        string Color,
        string BackgroundColor,
        string IconName,
        string Description,
        bool RequiresApproval,
        bool ShowInLog,
        bool ShowBadge);
}
```

### 6. Forward Declarations (Referenced Types)

These types are defined in other v0.6.1 sub-versions but are referenced by ITool:

```csharp
// Forward declarations - these will be implemented in their respective sub-versions:
// - JsonSchema (v0.6.1e)
// - ToolResult (v0.6.1c)
// - ToolExecutionContext (v0.6.1b)
// - ToolValidationResult (v0.6.1d)

// For now, create placeholder interfaces to allow compilation:
```

**Location**: `src/AIntern.Core/Tools/ToolTypes.cs` (temporary until other parts are implemented)

```csharp
namespace AIntern.Core.Tools;

using System.Text.Json;

// =============================================================================
// TEMPORARY FORWARD DECLARATIONS
// These types are fully defined in subsequent v0.6.1 sub-versions.
// This file provides minimal definitions to allow v0.6.1a to compile.
// =============================================================================

/// <summary>
/// Placeholder for JSON Schema (defined in v0.6.1e).
/// </summary>
public sealed class JsonSchema
{
    /// <summary>
    /// Schema type (always "object" for tool parameters).
    /// </summary>
    public string Type { get; init; } = "object";

    /// <summary>
    /// Schema description.
    /// </summary>
    public string? Description { get; init; }

    /// <summary>
    /// Property definitions.
    /// </summary>
    public Dictionary<string, JsonSchemaProperty> Properties { get; init; } = new();

    /// <summary>
    /// Required property names.
    /// </summary>
    public List<string> Required { get; init; } = new();
}

/// <summary>
/// Placeholder for JSON Schema property (defined in v0.6.1e).
/// </summary>
public sealed class JsonSchemaProperty
{
    public string Type { get; init; } = string.Empty;
    public string? Description { get; init; }
    public string[]? Enum { get; init; }
    public string? Pattern { get; init; }
    public int? Minimum { get; init; }
    public int? Maximum { get; init; }
    public JsonSchemaProperty? Items { get; init; }
}

/// <summary>
/// Placeholder for tool execution context (defined in v0.6.1b).
/// </summary>
public sealed class ToolExecutionContext
{
    public Guid ExecutionId { get; init; } = Guid.NewGuid();
    public Guid SessionId { get; init; }
    public string? WorkspacePath { get; init; }
    public JsonElement Parameters { get; init; }
    public IServiceProvider Services { get; init; } = null!;
    public CancellationToken CancellationToken { get; init; }
}

/// <summary>
/// Placeholder for tool result (defined in v0.6.1c).
/// </summary>
public sealed class ToolResult
{
    public bool Success { get; init; }
    public object? Data { get; init; }
    public string Message { get; init; } = string.Empty;
    public string? Error { get; init; }

    public static ToolResult Succeeded(object? data = null, string? message = null) =>
        new() { Success = true, Data = data, Message = message ?? "OK" };

    public static ToolResult Failed(string error) =>
        new() { Success = false, Error = error, Message = error };
}

/// <summary>
/// Placeholder for tool validation result (defined in v0.6.1d).
/// </summary>
public sealed class ToolValidationResult
{
    public bool IsValid { get; init; }
    public IReadOnlyList<ToolValidationError> Errors { get; init; } = Array.Empty<ToolValidationError>();

    public static ToolValidationResult Valid() => new() { IsValid = true };
    public static ToolValidationResult Invalid(params ToolValidationError[] errors) =>
        new() { IsValid = false, Errors = errors };
}

/// <summary>
/// Placeholder for tool validation error (defined in v0.6.1d).
/// </summary>
public sealed class ToolValidationError
{
    public string ParameterName { get; init; } = string.Empty;
    public string Message { get; init; } = string.Empty;

    public ToolValidationError() { }
    public ToolValidationError(string parameterName, string message)
    {
        ParameterName = parameterName;
        Message = message;
    }
}
```

---

## File Summary

### Files to Create

| File | Location | Purpose |
|------|----------|---------|
| `ITool.cs` | `Core/Tools/` | Core tool interface |
| `ToolCategory.cs` | `Core/Tools/` | Category enumeration |
| `RiskLevel.cs` | `Core/Tools/` | Risk level enumeration |
| `ToolCategoryMetadata.cs` | `Core/Tools/` | Category UI metadata |
| `RiskLevelMetadata.cs` | `Core/Tools/` | Risk level UI/policy metadata |
| `ToolTypes.cs` | `Core/Tools/` | Forward declarations |

---

## Unit Test Plan

| Test | Description |
|------|-------------|
| `ToolCategory_HasExpectedValues` | All categories exist |
| `ToolCategory_HasUniqueValues` | No duplicate enum values |
| `RiskLevel_HasExpectedValues` | All risk levels exist |
| `RiskLevel_OrderedByRisk` | Safe < Low < Medium < High < Critical |
| `ToolCategoryMetadata_GetInfo_ReturnsAllCategories` | All categories have metadata |
| `ToolCategoryMetadata_GetInfo_UnknownCategory_ReturnsFallback` | Fallback for invalid |
| `RiskLevelMetadata_GetInfo_ReturnsAllLevels` | All levels have metadata |
| `RiskLevelMetadata_RequiresApproval_Safe_ReturnsFalse` | Safe is auto-approved |
| `RiskLevelMetadata_RequiresApproval_Low_ReturnsFalse` | Low is auto-approved |
| `RiskLevelMetadata_RequiresApproval_Medium_ReturnsTrue` | Medium needs approval |
| `RiskLevelMetadata_RequiresApproval_High_ReturnsTrue` | High needs approval |
| `RiskLevelMetadata_RequiresApproval_Critical_ReturnsTrue` | Critical needs approval |
| `RiskLevelMetadata_ShouldLog_Safe_ReturnsFalse` | Safe not logged |
| `RiskLevelMetadata_ShouldLog_Low_ReturnsTrue` | Low is logged |
| `CategoryInfo_Record_EqualityWorks` | Record equality |
| `RiskInfo_Record_EqualityWorks` | Record equality |

**Total Tests**: 16

---

## Verification

```bash
# Build the core project
dotnet build src/AIntern.Core

# Run unit tests
dotnet test --filter "ToolCore"

# Verify no compile errors
dotnet build src/AIntern.Core --no-incremental
```

---

## Acceptance Criteria

| ID | Criterion |
|----|-----------|
| AC-1 | ITool interface compiles with all members |
| AC-2 | ToolCategory has 9 values |
| AC-3 | RiskLevel has 5 values (Safe through Critical) |
| AC-4 | ToolCategoryMetadata returns info for all categories |
| AC-5 | RiskLevelMetadata returns info for all levels |
| AC-6 | RiskLevel.Safe and Low do not require approval |
| AC-7 | RiskLevel.Medium, High, Critical require approval |
| AC-8 | Forward declaration types allow compilation |
| AC-9 | All enums have XML documentation |
| AC-10 | All interface members have XML documentation |

---

## Changelog Entry

```markdown
## v0.6.1a - Tool Core Models

### Added
- `ITool` interface with:
  - Id, Name, Description properties
  - Category and DefaultRiskLevel for classification
  - InputSchema for parameter validation
  - IsAvailable and Tags for filtering
  - ExecuteAsync, Validate, GetExecutionSummary methods
  - GetEffectiveRiskLevel for dynamic risk calculation

- `ToolCategory` enumeration:
  - FileSystem, Terminal, Search, Workspace
  - Editor, Git, Network, System, Custom

- `RiskLevel` enumeration:
  - Safe (0), Low (1), Medium (2), High (3), Critical (4)

- `ToolCategoryMetadata` with:
  - DisplayName, IconName, Description per category
  - GetInfo() and GetAll() methods

- `RiskLevelMetadata` with:
  - DisplayName, Color, BackgroundColor, IconName
  - RequiresApproval, ShowInLog, ShowBadge flags
  - Helper methods for policy checks

- Forward declarations for types defined in later sub-versions
```

---

## Implementation Notes

### Tool ID Naming Convention

Tool IDs should follow kebab-case with category prefix:
- `file-read`, `file-write`, `file-delete`
- `terminal-execute`, `terminal-send`
- `search-grep`, `search-files`
- `git-status`, `git-commit`, `git-push`

### Description Guidelines

Tool descriptions should be written for LLM consumption:
- Start with action verb (Read, Write, Execute, Search)
- Explain when to use vs alternatives
- List important constraints
- Provide parameter format examples

### Risk Level Guidelines

```
Safe:      Does not modify anything, cannot fail destructively
Low:       Creates or modifies, but easily reversed (new file, small edit)
Medium:    Significant change, needs user awareness (bulk operations)
High:      Destructive or hard to reverse (delete, force push)
Critical:  System-level, broad impact (credentials, system config)
```

---

## Timeline Estimate

| Version | Estimated Effort |
|---------|------------------|
| v0.6.1a | 0.5 day |
