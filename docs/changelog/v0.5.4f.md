# v0.5.4f - Command Block UI

**Released**: 2026-01-18

---

## Overview

Avalonia XAML control for command blocks with visual styles, action buttons, status badges, and danger warning overlay.

---

## Added

### Controls (`AIntern.Desktop/Controls/`)

- **CommandBlockControl.axaml** - Main XAML UserControl with:
  - Header row: Description, Language Badge, Status Badge
  - Content row: Prompt symbol + selectable command text
  - Action row: Copy, Send to Terminal, Run buttons + status message
  - Danger warning panel with Cancel/Confirm buttons
  - Embedded styles for all visual elements

- **CommandBlockControl.axaml.cs** - Code-behind (minimal)

### Converters (`AIntern.Desktop/Converters/`)

- **EqualityConverter** - Returns true if value equals parameter (case-insensitive)
- **BoolToTextConverter** - Converts bool to "TrueText|FalseText" format

### Icons (`AIntern.Desktop/Resources/Icons.axaml`)

- **PlayIcon** - Play triangle for Run button
- **SpinnerIcon** - Loading circle for executing state

### Theme Resources (`AIntern.Desktop/Themes/Dark.axaml`)

- CommandBlockBorder, TerminalPromptColor
- BadgeBackground, BadgeForeground
- StatusBadgeBackground
- DangerBackgroundBrush, ErrorBrush, InfoBrush
- HoverBrush

---

## Style Classes

| Class | Purpose |
|-------|---------|
| `.command-block` | Main container border |
| `.command-block.dangerous` | Red border for dangerous commands |
| `.command-content` | Code area with dark background |
| `.status-badge` | Status indicator |
| `.status-badge.success/error/warning/running/info` | Status color variants |
| `.danger-warning` | Warning panel |
| `.command-action` | Transparent action buttons |
| `.run-button` | Accent-colored run button |
| `.spinning` | Rotation animation for spinner |

---

## Unit Tests

16 tests in `CommandBlockConverterTests.cs`:

| Converter | Tests |
|-----------|-------|
| EqualityConverter | 9 |
| BoolToTextConverter | 7 |

---

## Files Changed

| File | Status |
|------|--------|
| `Controls/CommandBlockControl.axaml` | Added |
| `Controls/CommandBlockControl.axaml.cs` | Added |
| `Converters/EqualityConverter.cs` | Added |
| `Converters/BoolToTextConverter.cs` | Added |
| `Resources/Icons.axaml` | Modified (added PlayIcon, SpinnerIcon) |
| `Themes/Dark.axaml` | Modified (added theme resources) |
| `AIntern.Desktop.Tests/Converters/CommandBlockConverterTests.cs` | Added |

---

## Next Steps

- v0.5.5: Terminal Polish (settings, themes, keyboard shortcuts)
