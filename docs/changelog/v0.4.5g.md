# v0.4.5g Changelog - Quick Actions

**Released**: 2026-01-16

## Summary

Inline quick action buttons on code blocks for rapid apply, copy, diff preview, and editor operations.

## Features

### Core Models (`src/AIntern.Core/Models`)
- **`QuickActionType`** - Enum with 8 action types:
  - `Apply` - Apply code to target file
  - `Copy` - Copy to clipboard
  - `ShowDiff` - Open diff viewer
  - `OpenFile` - Open target in editor
  - `ApplyWithOptions` - Apply with custom options popup
  - `Reject` - Mark as rejected
  - `RunCommand` - Execute command in terminal
  - `InsertAtCursor` - Insert at editor cursor
- **`QuickActionResult`** - Result record with:
  - Success/failure factory methods
  - Action type and duration tracking
  - Computed `DisplayMessage` for UI feedback

### Desktop Layer (`src/AIntern.Desktop`)
- **`QuickAction`** - Record with factory methods for default actions:
  - Id, Type, Label, Icon, Tooltip
  - Keyboard shortcut binding
  - `IsEnabled` predicate for availability
  - Priority for display ordering
- **`IQuickActionService`** - Interface with:
  - `GetAvailableActions(block)` - Filtered by block state
  - `ExecuteAsync(action, block)` - Routes to appropriate handler
  - `RegisterAction/UnregisterAction` - Custom action support
  - `ActionExecuting/ActionExecuted` events
- **`QuickActionService`** - Implementation with:
  - 8 default actions registered at startup
  - Event-based lifecycle hooks
  - Comprehensive logging

### ViewModel Layer
- **`CodeBlockQuickActionsViewModel`** - State and commands:
  - Observable properties (IsExecuting, StatusMessage, HasError)
  - Commands (ApplyCommand, CopyCommand, ShowDiffCommand, etc.)
  - Events for parent coordination (ShowDiffRequested, ApplyRequested)

### View Layer
- **`CodeBlockQuickActionsView.axaml`** - UI with:
  - Horizontal button bar
  - Overflow menu for secondary actions
  - Status indicator with loading spinner
- **`QuickActionStyles.axaml`** - Visual states:
  - Hover, pressed, disabled
  - Success (green), error (red)
  - Rotating spinner animation

## Default Actions

| Action | ID | Shortcut | Priority |
|--------|-----|----------|----------|
| Apply | `apply` | Ctrl+Enter | 10 |
| Run | `run` | Ctrl+R | 15 |
| Copy | `copy` | Ctrl+C | 20 |
| Diff | `diff` | Ctrl+D | 30 |
| Open | `open` | - | 40 |
| Insert | `insert` | Ctrl+Shift+I | 45 |
| Options | `options` | Ctrl+Shift+Enter | 50 |
| Reject | `reject` | - | 60 |

## Tests

- 14 tests for `QuickActionResult` (Core)
- 19 tests for `QuickActionService` (Desktop)
- **Total: 33 new tests**
