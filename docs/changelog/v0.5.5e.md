# v0.5.5e - Terminal Settings Models

**Released:** 2026-01-19

## Summary
Terminal settings models for appearance, behavior, and theme configuration with persistence support, plus font detection service.

## Features

### TerminalSettings Model
Comprehensive terminal settings with validation:
- **Appearance**: FontFamily, FontSize, LineHeight, LetterSpacing, CursorStyle, CursorBlink, BoldIsBright, EnableLigatures
- **Behavior**: ScrollbackLines, BellEnabled, BellStyle, CopyOnSelect, ScrollOnInput, ScrollOnOutput, WordSeparators
- **Integration**: SyncWithWorkspace, ConfirmOnClose, DefaultProfileId, CustomProfiles
- **Validation**: Range checking for all numeric properties
- **Cloning**: Deep copy support for settings snapshots

### IFontService Interface
Font detection and management:
- `GetMonospaceFonts()` - Lazy detection of available monospace fonts
- `GetRecommendedFonts()` - Platform-specific font recommendations
- `IsFontAvailable(fontFamily)` - Check font availability
- `GetBestAvailableFont(fontList)` - Resolve CSS-style font fallback chains

### FontService Implementation
- Checks 25+ known monospace fonts (Cascadia Code, SF Mono, Fira Code, JetBrains Mono, etc.)
- Platform-specific primary recommendations (Windows/macOS/Linux)
- Lazy initialization with caching for performance
- Injectable font checker for testing

## Files Changed

### New Files
| File | Description |
|------|-------------|
| `TerminalSettings.cs` | Settings model with validation |
| `IFontService.cs` | Font service interface |
| `FontService.cs` | Font detection implementation |
| `TerminalSettingsTests.cs` | 23 unit tests |
| `FontServiceTests.cs` | 17 unit tests |

### Modified Files
| File | Description |
|------|-------------|
| `TerminalServiceExtensions.cs` | Register IFontService DI |

## Already Existing Components
Note: The following were already implemented in previous versions:
- `TerminalTheme.cs` - v0.5.2a (16 ANSI colors, 256-color palette)
- `TerminalCursorStyle.cs` - v0.5.3c
- `TerminalBellStyle.cs` - v0.5.3c
- Terminal settings in AppSettings - v0.5.3c

## Test Coverage
- **TerminalSettingsTests**: 23 passing (defaults, validation, cloning)
- **FontServiceTests**: 17 passing (detection, fallback, caching)
- **Total**: 40 passing tests
