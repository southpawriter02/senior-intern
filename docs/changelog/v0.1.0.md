# Changelog v0.1.0

**Release Date:** 2026-01-12

Initial release establishing the foundational architecture for AIntern, a local LLM chat application.

---

## ğŸ‰ Highlights

- Complete project scaffolding with clean architecture
- Local LLM inference via LLamaSharp
- Avalonia-based cross-platform UI
- Serilog logging infrastructure
- xUnit test framework

---

## ğŸ“¦ Project Structure

### Solution Organization

```
AIntern.sln
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ AIntern.Core/           # Domain models and interfaces
â”‚   â”œâ”€â”€ AIntern.Services/       # Service implementations
â”‚   â””â”€â”€ AIntern.Desktop/        # Avalonia UI application
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ AIntern.Core.Tests/     # Unit tests for Core
â”‚   â””â”€â”€ AIntern.Services.Tests/ # Unit tests for Services
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ README.md               # Documentation index
â”‚   â””â”€â”€ features/               # Feature specifications
â””â”€â”€ changelog/
    â””â”€â”€ v0.1.0.md               # This file
```

### Centralized Package Management

All NuGet package versions managed in `Directory.Packages.props`:

| Category | Packages |
|----------|----------|
| UI | Avalonia 11.2.1, Fluent Theme, Inter Fonts |
| MVVM | CommunityToolkit.Mvvm 8.3.2 |
| DI | Microsoft.Extensions.DependencyInjection 8.0.1 |
| LLM | LLamaSharp 0.18.0 |
| Logging | Serilog 4.0.2, Console/File Sinks |
| Testing | xunit 2.9.2, Microsoft.NET.Test.Sdk 17.11.1 |

---

## ğŸ—ï¸ Architecture

### Layer Dependencies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          AIntern.Desktop            â”‚  â† Presentation (Avalonia)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          AIntern.Services           â”‚  â† Business Logic
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            AIntern.Core             â”‚  â† Domain (zero dependencies)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Clean Architecture Principles

- **Core**: Contains only models, interfaces, events, exceptions
- **Services**: Implements interfaces; depends only on Core
- **Desktop**: UI layer; references Core and Services

---

## ğŸ’¬ Core Domain

### Models

| Model | Purpose |
|-------|---------|
| `ChatMessage` | Single message with role, content, metadata |
| `Conversation` | Message collection with title and timestamps |
| `AppSettings` | Persistent application configuration |
| `ModelLoadOptions` | GGUF model loading parameters |
| `InferenceOptions` | Text generation configuration |

### Interfaces

| Interface | Responsibility |
|-----------|----------------|
| `ILlmService` | Model loading and inference |
| `IConversationService` | Conversation state management |
| `ISettingsService` | Settings persistence |

### Events

| Event Args | Trigger |
|------------|---------|
| `ModelStateChangedEventArgs` | Model load/unload |
| `SettingsChangedEventArgs` | Settings saved |
| `InferenceProgressEventArgs` | Token generation progress |

### Exceptions

| Exception | Scenario |
|-----------|----------|
| `ModelLoadException` | Model file not found or load failure |
| `InferenceException` | Generation error (no model loaded) |

---

## âš™ï¸ Services

### LlmService

Local LLM inference powered by LLamaSharp:

- **GGUF Format**: Supports quantized models (Q4_K_M, Q5_K_M, etc.)
- **Streaming**: Token-by-token response generation
- **Thread-Safe**: Separate locks for loading and inference
- **GPU Support**: Automatic Metal on macOS; configurable CUDA on Windows/Linux

### ConversationService

In-memory conversation management:

- Single active conversation
- Chronological message ordering
- Event-driven UI updates

### SettingsService

JSON-based persistent settings:

- Platform-appropriate storage location
- Graceful degradation on file corruption
- Auto-create settings directory

---

## ğŸ–¥ï¸ Desktop Application

### Framework

- **Avalonia 11.2.1**: Cross-platform .NET UI
- **Fluent Theme**: Modern dark theme
- **Inter Font**: Clean typography

### MVVM Architecture

| ViewModel | Responsibility |
|-----------|----------------|
| `MainWindowViewModel` | Application shell |
| `ChatViewModel` | Message input/display |
| `ChatMessageViewModel` | Individual message rendering |
| `ModelSelectorViewModel` | Model file selection and loading |

### Dependency Injection

Services registered via `AddAInternServices()`:
- Singletons for stateful services (LLM, Conversation, Settings)
- Transients for ViewModels

---

## ğŸ“ Logging

### Serilog Configuration

```csharp
Log.Logger = new LoggerConfiguration()
    .MinimumLevel.Debug()
    .WriteTo.Console(outputTemplate: "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj}{NewLine}{Exception}")
    .WriteTo.File("logs/aintern-.log", rollingInterval: RollingInterval.Day, retainedFileCountLimit: 7)
    .CreateLogger();
```

### Features

- Console output for development
- Rolling daily log files (7-day retention)
- Integrated with Microsoft.Extensions.Logging for DI
- Structured logging support

---

## ğŸ§ª Testing

### Test Projects

| Project | Coverage |
|---------|----------|
| `AIntern.Core.Tests` | ChatMessage, Conversation models |
| `AIntern.Services.Tests` | Placeholder for service tests |

### Framework

- **xUnit 2.9.2**: Test framework
- **Microsoft.NET.Test.Sdk 17.11.1**: VS Test integration

### Test Count

- **10 tests** passing
- Model validation and behavior tests

---

## ğŸ“š Documentation

### XML Documentation

Comprehensive XML comments added to:
- All models (`ChatMessage`, `Conversation`, `AppSettings`, etc.)
- All interfaces (`ILlmService`, `IConversationService`, `ISettingsService`)
- All service implementations
- All events and exceptions

### Feature Specifications

Detailed markdown specifications in `docs/features/`:
- `core.md` - Domain layer documentation
- `services.md` - Service layer documentation
- `desktop.md` - UI layer documentation

---

## ğŸ”§ Build Configuration

### Target Framework

- .NET 8.0 (LTS)
- C# 12.0
- Nullable reference types enabled
- Implicit usings enabled

### EditorConfig

Consistent code style across the project.

---

## ğŸ“‹ Files Changed

### New Files

| Path | Description |
|------|-------------|
| `docs/README.md` | Documentation index |
| `docs/features/core.md` | Core layer specification |
| `docs/features/services.md` | Services layer specification |
| `docs/features/desktop.md` | Desktop layer specification |
| `changelog/v0.1.0.md` | This changelog |
| `tests/AIntern.Core.Tests/` | Core unit tests |
| `tests/AIntern.Services.Tests/` | Services unit tests |

### Modified Files

| Path | Changes |
|------|---------|
| `Directory.Packages.props` | Added Serilog packages |
| `AIntern.sln` | Added test projects |
| `src/AIntern.Desktop/Program.cs` | Serilog configuration |
| `src/AIntern.Desktop/Extensions/ServiceCollectionExtensions.cs` | Logging registration |
| All `.cs` files | Added XML documentation |

---

## ğŸš€ Getting Started

### Build

```bash
dotnet build
```

### Run Tests

```bash
dotnet test
```

### Run Application

```bash
dotnet run --project src/AIntern.Desktop
```

---

## ğŸ“ˆ Metrics

| Metric | Value |
|--------|-------|
| Projects | 5 (3 src + 2 tests) |
| Source Files | ~20 |
| Test Count | 10 |
| NuGet Packages | 14 |
| Lines of Code | ~1,500 |
