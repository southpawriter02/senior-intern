# v0.4.5a Changelog - Settings Models

**Released**: 2026-01-16

## Summary

Extends `AppSettings` with code generation preferences that persist across sessions.

## Features

### Core Models (`src/AIntern.Core/Models`)
- **`DiffViewMode`** - Enum for diff viewer display modes (SideBySide, Inline, Unified)

### Validation (`src/AIntern.Core/Validation`)
- **`AppSettingsValidator`** - Validates and normalizes settings with constraints
- **`SettingsValidationResult`** - Validation result with issues and severity
- **`SettingsValidationIssue`** - Individual validation issue record
- **`SettingsValidationSeverity`** - Severity enum (Info, Warning, Error)

### Events (`src/AIntern.Core/Events`)
- **`SettingChangedEventArgs`** - Event args for setting change notifications

### Configuration (`src/AIntern.Core/Configuration`)
- **`SettingsDefaults`** - Centralized default values and constraint ranges

### AppSettings Extensions
Added 20 new settings properties across 5 regions:

| Region | Properties |
|--------|------------|
| Code Generation | AutoDetectCodeBlocks, ShowDiffPreviewDuringStreaming, AutoExpandCodeBlocks, ShowCodeBlockQuickActions |
| Diff Viewer | DefaultDiffViewMode, ShowLineNumbersInDiff, HighlightWhitespaceChanges, DiffContextLines, SyntaxHighlightingInDiff |
| Backup & Undo | CreateBackupBeforeApply, UndoWindowMinutes, MaxBackupAgeDays, BackupDirectory |
| Apply Behavior | AutoRefreshEditorAfterApply, ConfirmBeforeApply, ShowApplyProgressOverlay, AutoCloseProgressOnSuccess |
| History | MaxChangeHistoryItems, TrackChangeHistory, PersistHistoryAcrossSessions |

## Tests

- 11 new tests for `AppSettingsValidator`
