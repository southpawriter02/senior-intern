# v0.3.2g: Main Window Integration - Detailed Changelog

## Overview

Integrates the file explorer into the main application window with sidebar layout, event wiring, and theming.

## Files Modified

### [MainWindowViewModel.cs](file:///Users/turtle1/Documents/GitHub/aintern/src/AIntern.Desktop/ViewModels/MainWindowViewModel.cs)
- Added `FileExplorer` property
- Added `HasOpenWorkspace` property
- Added `IWorkspaceService` injection
- Added event handlers: `OnFileOpenRequested`, `OnFileAttachRequested`, `OnWorkspaceChanged`

### [App.axaml](file:///Users/turtle1/Documents/GitHub/aintern/src/AIntern.Desktop/App.axaml)
- Added `FileIcons.axaml` to merged resources

### [Dark.axaml](file:///Users/turtle1/Documents/GitHub/aintern/src/AIntern.Desktop/Themes/Dark.axaml)
- Added `SidebarBackgroundBrush` (#1E1E2E)
- Added `SplitterBrush` (#313244)
- Added `EditorBackgroundBrush` (#181825)
- Added `TreeViewItemSelectedBackground` (#45475A)
- Added `TreeViewItemHoverBackground` (#313244)

### [ServiceCollectionExtensions.cs](file:///Users/turtle1/Documents/GitHub/aintern/src/AIntern.Desktop/Extensions/ServiceCollectionExtensions.cs)
- Added `FileExplorerViewModel` singleton registration

## Unit Tests

8 new tests in `MainWindowViewModelTests.cs`:

| Test | Purpose |
|------|---------|
| FileExplorer_IsProperlyInjected | Property injection |
| Constructor_HasOpenWorkspaceIsFalseByDefault | Default state |
| Constructor_HasOpenWorkspaceIsTrueWhenWorkspaceOpen | Initial workspace |
| OnWorkspaceChanged_UpdatesHasOpenWorkspace | Event handling |
| OnWorkspaceChanged_WorkspaceClosed_UpdatesHasOpenWorkspace | Close handling |
| OnWorkspaceChanged_NotifiesHasOpenWorkspacePropertyChanged | Notifications |
| Constructor_SubscribesToFileOpenRequestedEvent | Event subscription |
| Constructor_SubscribesToWorkspaceChangedEvent | Event subscription |

## Dependencies

- v0.3.1e: IWorkspaceService
- v0.3.2a-f: All File Explorer components
- v0.3.2c: FileIcons.axaml
