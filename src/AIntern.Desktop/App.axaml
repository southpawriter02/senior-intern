<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="AIntern.Desktop.App"
             RequestedThemeVariant="Dark">

    <Application.Styles>
        <FluentTheme />
        
        <!-- v0.4.2h: Diff Viewer Styles -->
        <StyleInclude Source="avares://AIntern.Desktop/Themes/DiffStyles.axaml" />
        
        <!-- Editor Tab Bar Styles (v0.3.3e) -->
        <Style Selector="Button.editor-tab">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="CornerRadius" Value="0" />
            <Setter Property="MinHeight" Value="35" />
        </Style>
        <Style Selector="Button.editor-tab:pointerover">
            <Setter Property="Background" Value="{DynamicResource TabHoverBackgroundBrush}" />
        </Style>
        <Style Selector="Button.editor-tab.active">
            <Setter Property="Background" Value="{DynamicResource TabActiveBackgroundBrush}" />
        </Style>
        <Style Selector="Button.editor-tab.active /template/ ContentPresenter">
            <Setter Property="BorderThickness" Value="0,0,0,2" />
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}" />
        </Style>
        <Style Selector="Button.tab-close-button">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="4" />
            <Setter Property="CornerRadius" Value="4" />
            <Setter Property="Opacity" Value="0.5" />
        </Style>
        <Style Selector="Button.tab-close-button:pointerover">
            <Setter Property="Background" Value="{DynamicResource ControlBackground}" />
            <Setter Property="Opacity" Value="1" />
        </Style>
        
        <!-- Primary Button Style (v0.3.5b) -->
        <Style Selector="Button.primary">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}" />
            <Setter Property="Foreground" Value="White" />
        </Style>
        <Style Selector="Button.primary:pointerover">
            <Setter Property="Background" Value="{DynamicResource AccentHoverBrush}" />
        </Style>
        <Style Selector="Button.primary:pressed">
            <Setter Property="Background" Value="{DynamicResource AccentPressedBrush}" />
        </Style>

        <!-- Status Bar Item Styles (v0.3.5d) -->
        <Style Selector="Button.status-item">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="8,0" />
            <Setter Property="Height" Value="24" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Foreground" Value="{DynamicResource StatusBarForegroundBrush}" />
            <Setter Property="FontSize" Value="12" />
        </Style>
        <Style Selector="Button.status-item:pointerover">
            <Setter Property="Background" Value="#FFFFFF20" />
        </Style>
        <Style Selector="Button.status-item:pressed">
            <Setter Property="Background" Value="#FFFFFF30" />
        </Style>
        <Style Selector="Border.status-item">
            <Setter Property="Padding" Value="8,0" />
            <Setter Property="Height" Value="24" />
        </Style>
        <Style Selector="Border.status-item TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource StatusBarForegroundBrush}" />
            <Setter Property="FontSize" Value="12" />
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>
        <Style Selector="Border.status-item PathIcon">
            <Setter Property="Foreground" Value="{DynamicResource StatusBarForegroundBrush}" />
        </Style>

        <!-- Menu Item Styles (v0.3.5e) -->
        <Style Selector="Button.menu-item">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="12,8" />
            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
        </Style>
        <Style Selector="Button.menu-item:pointerover">
            <Setter Property="Background" Value="{DynamicResource MenuItemHoverBrush}" />
        </Style>
        <Style Selector="Button.icon-button-small">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="4" />
            <Setter Property="Width" Value="24" />
            <Setter Property="Height" Value="24" />
            <Setter Property="CornerRadius" Value="4" />
        </Style>
        <Style Selector="Button.icon-button-small:pointerover">
            <Setter Property="Background" Value="{DynamicResource IconButtonHoverBrush}" />
        </Style>
        
        <!-- ================================================================ -->
        <!-- Code Block Styles (v0.4.1h)                                      -->
        <!-- ================================================================ -->
        
        <!-- Code Block Container -->
        <Style Selector="Border.code-block">
            <Setter Property="Background" Value="{DynamicResource CodeBlockBackground}" />
            <Setter Property="BorderBrush" Value="{DynamicResource CodeBlockBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="Margin" Value="0,8" />
        </Style>
        <Style Selector="Border.code-block.applicable">
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}" />
            <Setter Property="BorderThickness" Value="3,1,1,1" />
        </Style>
        <Style Selector="Border.code-block.example">
            <Setter Property="Opacity" Value="0.8" />
        </Style>
        <Style Selector="Border.code-block.command">
            <Setter Property="Background" Value="{DynamicResource CommandBlockBackground}" />
        </Style>
        
        <!-- Code Block Header -->
        <Style Selector="Border.code-block-header">
            <Setter Property="Background" Value="{DynamicResource CodeBlockHeaderBackground}" />
            <Setter Property="Padding" Value="8,6" />
            <Setter Property="CornerRadius" Value="6,6,0,0" />
        </Style>
        
        <!-- Language Badge -->
        <Style Selector="Border.language-badge">
            <Setter Property="Background" Value="{DynamicResource LanguageBadgeBackground}" />
            <Setter Property="CornerRadius" Value="3" />
            <Setter Property="Padding" Value="6,2" />
        </Style>
        <Style Selector="Border.language-badge TextBlock">
            <Setter Property="FontSize" Value="11" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Foreground" Value="{DynamicResource LanguageBadgeForeground}" />
        </Style>
        
        <!-- File Path -->
        <Style Selector="TextBlock.file-path">
            <Setter Property="FontFamily" Value="Cascadia Code, Consolas, monospace" />
            <Setter Property="FontSize" Value="12" />
            <Setter Property="Foreground" Value="{DynamicResource TextMuted}" />
            <Setter Property="TextTrimming" Value="CharacterEllipsis" />
        </Style>
        
        <!-- Code Content -->
        <Style Selector="Border.code-content">
            <Setter Property="Padding" Value="12,8" />
        </Style>
        <Style Selector="SelectableTextBlock.code-text">
            <Setter Property="FontFamily" Value="Cascadia Code, Consolas, monospace" />
            <Setter Property="FontSize" Value="13" />
            <Setter Property="Foreground" Value="{DynamicResource CodeForeground}" />
            <Setter Property="TextWrapping" Value="NoWrap" />
        </Style>
        
        <!-- Apply Button -->
        <Style Selector="Button.apply-button">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Padding" Value="8,4" />
            <Setter Property="CornerRadius" Value="4" />
            <Setter Property="FontSize" Value="12" />
        </Style>
        <Style Selector="Button.apply-button:pointerover">
            <Setter Property="Background" Value="{DynamicResource AccentHoverBrush}" />
        </Style>
        <Style Selector="Button.apply-button:disabled">
            <Setter Property="Opacity" Value="0.5" />
        </Style>
        
        <!-- Icon Button (for copy button) -->
        <Style Selector="Button.icon-button">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="{DynamicResource TextMuted}" />
            <Setter Property="Padding" Value="6" />
            <Setter Property="CornerRadius" Value="4" />
            <Setter Property="MinWidth" Value="28" />
            <Setter Property="MinHeight" Value="28" />
        </Style>
        <Style Selector="Button.icon-button:pointerover">
            <Setter Property="Background" Value="{DynamicResource ControlBackground}" />
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
        </Style>
        
        <!-- Status Badge -->
        <Style Selector="Border.status-badge">
            <Setter Property="CornerRadius" Value="3" />
            <Setter Property="Padding" Value="6,2" />
        </Style>
        <Style Selector="Border.status-badge TextBlock">
            <Setter Property="FontSize" Value="11" />
            <Setter Property="FontWeight" Value="SemiBold" />
        </Style>
        <Style Selector="Border.status-badge.applied">
            <Setter Property="Background" Value="{DynamicResource SuccessBackground}" />
        </Style>
        <Style Selector="Border.status-badge.applied TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource SuccessForeground}" />
        </Style>
        <Style Selector="Border.status-badge.rejected">
            <Setter Property="Background" Value="{DynamicResource ErrorBackground}" />
        </Style>
        <Style Selector="Border.status-badge.rejected TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource ErrorForeground}" />
        </Style>
        <Style Selector="Border.status-badge.conflict">
            <Setter Property="Background" Value="{DynamicResource WarningBackground}" />
        </Style>
        <Style Selector="Border.status-badge.conflict TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource WarningForeground}" />
        </Style>
        
        <!-- Code Summary Panel -->
        <Style Selector="Border.code-summary">
            <Setter Property="Background" Value="{DynamicResource SurfaceBackground}" />
            <Setter Property="CornerRadius" Value="4" />
            <Setter Property="Padding" Value="12,8" />
            <Setter Property="Margin" Value="0,8,0,0" />
        </Style>
    </Application.Styles>

    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceInclude Source="avares://AIntern.Desktop/Themes/Dark.axaml" />
                <ResourceInclude Source="avares://AIntern.Desktop/Themes/DiffColors.axaml" />
                <ResourceInclude Source="avares://AIntern.Desktop/Resources/Icons.axaml" />
                <ResourceInclude Source="avares://AIntern.Desktop/Controls/ParameterSlider.axaml" />
                <!-- v0.3.2g: File explorer icons -->
                <ResourceInclude Source="avares://AIntern.Desktop/Assets/FileIcons.axaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Application.Resources>

</Application>
